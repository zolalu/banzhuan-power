<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÊùøÁ†ñÁöÑÂçöÂÆ¢ - AI‰∫ßÂìÅÊÄùËÄÉ</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        :root {
            --color-primary: #2563eb;
            --color-secondary: #7c3aed;
            --color-accent: #f59e0b;
            --color-text: #1f2937;
            --color-text-light: #6b7280;
            --color-bg: #ffffff;
            --color-bg-secondary: #f9fafb;
            --color-border: #e5e7eb;
            --color-highlight: #fef3c7;
            --color-highlight-border: #f59e0b;
        }

        .dark {
            --color-text: #f9fafb;
            --color-text-light: #d1d5db;
            --color-bg: #111827;
            --color-bg-secondary: #1f2937;
            --color-border: #374151;
            --color-highlight: #451a03;
            --color-highlight-border: #f59e0b;
        }

        body {
            font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            line-height: 1.7;
        }

        .blog-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .article-card {
            background: var(--color-bg);
            border: 1px solid var(--color-border);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .article-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .article-card:hover .card-actions {
            opacity: 1;
        }

        .card-actions {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            display: flex;
            gap: 0.5rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .card-action-btn {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            transition: all 0.2s ease;
            backdrop-filter: blur(8px);
        }

        .edit-btn {
            background: rgba(59, 130, 246, 0.9);
            color: white;
        }

        .edit-btn:hover {
            background: rgba(59, 130, 246, 1);
            transform: scale(1.1);
        }

        .delete-btn {
            background: rgba(239, 68, 68, 0.9);
            color: white;
        }

        .delete-btn:hover {
            background: rgba(239, 68, 68, 1);
            transform: scale(1.1);
        }

        .article-content {
            max-width: 800px;
            margin: 0 auto;
            font-size: 1.125rem;
            line-height: 1.8;
        }

        .article-content h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 2rem 0 1rem 0;
            color: var(--color-text);
            font-family: 'Noto Serif SC', serif;
        }

        .article-content h2 {
            font-size: 2rem;
            font-weight: 600;
            margin: 2rem 0 1rem 0;
            color: var(--color-text);
            font-family: 'Noto Serif SC', serif;
            border-bottom: 2px solid var(--color-primary);
            padding-bottom: 0.5rem;
        }

        .article-content h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 1.5rem 0 0.75rem 0;
            color: var(--color-text);
        }

        .article-content h4 {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 1.25rem 0 0.5rem 0;
            color: var(--color-text);
            border-bottom: 1px solid var(--color-border);
            padding-bottom: 0.25rem;
        }

        .article-content h5 {
            font-size: 1.125rem;
            font-weight: 600;
            margin: 1rem 0 0.5rem 0;
            color: var(--color-primary);
        }

        .article-content h6 {
            font-size: 1rem;
            font-weight: 600;
            margin: 1rem 0 0.5rem 0;
            color: var(--color-text-light);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .article-content p {
            margin: 1.25rem 0;
            color: var(--color-text);
        }

        .article-content a {
            color: var(--color-primary);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: all 0.2s ease;
        }

        .article-content a:hover {
            border-bottom-color: var(--color-primary);
        }

        .article-content img {
            max-width: 100%;
            height: auto;
            margin: 2rem auto;
            display: block;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .article-content video {
            max-width: 100%;
            height: auto;
            margin: 2rem auto;
            display: block;
            border-radius: 8px;
        }

        .article-content blockquote {
            border-left: 4px solid var(--color-primary);
            padding: 1rem 1.5rem;
            margin: 2rem 0;
            background: var(--color-bg-secondary);
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }

        .article-content code {
            background: var(--color-bg-secondary);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
        }

        .article-content pre {
            background: var(--color-bg-secondary);
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1.5rem 0;
            white-space: pre;
            tab-size: 4;
        }

        .article-content pre code {
            background: none;
            padding: 0;
            border-radius: 0;
            font-size: inherit;
        }

        .article-content ul, .article-content ol {
            margin: 1.25rem 0;
            padding-left: 2rem;
        }

        .article-content li {
            margin: 0.5rem 0;
        }

        .article-content ol {
            list-style-type: decimal;
        }

        .article-content ul {
            list-style-type: disc;
        }

        .article-content ol li {
            padding-left: 0.5rem;
        }

        .article-content ul li {
            padding-left: 0.5rem;
        }

        .highlight {
            background: #f0fdf4;
            padding: 1.25rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
            position: relative;
            border-left: 3px solid #22c55e;
            font-weight: 500;
            font-size: 1.05em;
            line-height: 1.6;
            color: #166534;
        }

        .highlight::before {
            content: "üí°";
            position: absolute;
            left: 0.75rem;
            top: 0.75rem;
            font-size: 1.2rem;
        }

        .dark .highlight {
            background: #0f1f13;
            border-left-color: #16a34a;
            color: #bbf7d0;
        }

        .editor-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            height: 70vh;
        }

        .editor-textarea {
            width: 100%;
            height: 100%;
            padding: 1rem;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            resize: none;
            background: var(--color-bg);
            color: var(--color-text);
            white-space: pre-wrap;
            tab-size: 4;
            line-height: 1.6;
            overflow-wrap: break-word;
        }

        .preview-container {
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: 1rem;
            overflow-y: auto;
            background: var(--color-bg);
            white-space: pre-wrap;
            tab-size: 4;
        }

        .toolbar {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .toolbar button {
            padding: 0.5rem 1rem;
            border: 1px solid var(--color-border);
            border-radius: 6px;
            background: var(--color-bg);
            color: var(--color-text);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .toolbar button:hover {
            background: var(--color-bg-secondary);
            border-color: var(--color-primary);
        }

        .add-button {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .add-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        .tag {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: var(--color-bg-secondary);
            color: var(--color-primary);
            border-radius: 20px;
            font-size: 0.875rem;
            margin: 0.25rem;
        }

        .back-button {
            position: fixed;
            top: 2rem;
            left: 2rem;
            padding: 0.75rem 1.5rem;
            background: var(--color-bg);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            color: var(--color-text);
            text-decoration: none;
            transition: all 0.2s ease;
            z-index: 100;
        }

        .back-button:hover {
            background: var(--color-bg-secondary);
            transform: translateX(-2px);
        }

        .nav-button {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
            background: var(--color-bg-secondary);
            border: 1px solid var(--color-border);
            border-radius: 12px;
            color: var(--color-text);
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            max-width: 300px;
        }

        .nav-button:hover {
            background: var(--color-bg);
            border-color: var(--color-primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .nav-label {
            font-size: 0.875rem;
            color: var(--color-text-light);
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .nav-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--color-text);
            line-height: 1.4;
        }

        .prev-button {
            margin-right: auto;
        }

        .next-button {
            margin-left: auto;
        }

        @media (max-width: 768px) {
            .editor-container {
                grid-template-columns: 1fr;
                height: auto;
            }
            
            .article-content h1 {
                font-size: 2rem;
            }
            
            .article-content h2 {
                font-size: 1.5rem;
            }

            .article-content h3 {
                font-size: 1.25rem;
            }

            .article-content h4 {
                font-size: 1.125rem;
            }

            .article-content h5 {
                font-size: 1rem;
            }

            .article-content h6 {
                font-size: 0.875rem;
            }

            .nav-button {
                max-width: 200px;
                padding: 0.75rem 1rem;
            }

            .nav-title {
                font-size: 0.875rem;
                line-height: 1.3;
            }

            .nav-label {
                font-size: 0.75rem;
            }

            .article-navigation {
                margin-top: 2rem;
                padding-top: 1.5rem;
            }

            .highlight {
                padding: 1rem 1.5rem;
                margin: 1.5rem 0;
            }

            .highlight::before {
                left: -12px;
                padding: 0.375rem;
                font-size: 1.25rem;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-button" id="back-button">
        <i class="fas fa-arrow-left mr-2"></i><span id="back-text">ËøîÂõû‰∏ªÈ°µ</span>
    </a>

    <div class="blog-container">
        <!-- ÂçöÂÆ¢ÂàóË°®È°µÈù¢ -->
        <div id="blog-list" class="page">
            <header class="text-center mb-12">
                <h1 class="text-4xl md:text-6xl font-bold mb-4">
                    <span class="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">ÊùøÁ†ñÁöÑÂçöÂÆ¢</span>
                </h1>
                <p class="text-xl text-gray-600 dark:text-gray-400">ÂàÜ‰∫´AI‰∫ßÂìÅÊÄùËÄÉ‰∏éÂÆûË∑µÁªèÈ™å</p>
            </header>

            <div id="articles-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- ÊñáÁ´†Âç°ÁâáÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
            </div>
        </div>

        <!-- ÊñáÁ´†ÈòÖËØªÈ°µÈù¢ -->
        <div id="article-view" class="page" style="display: none;">
            <article class="article-content">
                <div id="article-content-display"></div>
                
                <!-- ÊñáÁ´†ÂØºËà™ -->
                <div class="article-navigation mt-12 pt-8 border-t border-gray-200 dark:border-gray-700">
                    <div class="flex justify-between items-center">
                        <button id="prev-article" class="nav-button prev-button" style="display: none;">
                            <i class="fas fa-arrow-left mr-2"></i>
                            <div>
                                <div class="nav-label">Previous</div>
                                <div class="nav-title"></div>
                            </div>
                        </button>
                        
                        <div class="flex-1"></div>
                        
                        <button id="next-article" class="nav-button next-button" style="display: none;">
                            <div class="text-right">
                                <div class="nav-label">Next</div>
                                <div class="nav-title"></div>
                            </div>
                            <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </article>
        </div>

        <!-- ÊñáÁ´†ÁºñËæëÈ°µÈù¢ -->
        <div id="article-editor" class="page" style="display: none;">
            <div class="mb-6">
                <input type="text" id="article-title" placeholder="ÊñáÁ´†Ê†áÈ¢ò" 
                       class="w-full p-3 text-2xl font-bold border border-gray-300 rounded-lg mb-4">
                <input type="text" id="article-tags" placeholder="Ê†áÁ≠æÔºàÁî®ÈÄóÂè∑ÂàÜÈöîÔºâ" 
                       class="w-full p-2 border border-gray-300 rounded-lg mb-4">
                <input type="file" id="cover-image" accept="image/*" 
                       class="mb-4">
            </div>

            <div class="toolbar">
                <button onclick="insertMarkdown('**', '**')" title="Á≤ó‰Ωì">
                    <i class="fas fa-bold"></i>
                </button>
                <button onclick="insertMarkdown('*', '*')" title="Êñú‰Ωì">
                    <i class="fas fa-italic"></i>
                </button>
                <button onclick="insertMarkdown('## ', '')" title="Ê†áÈ¢ò">
                    <i class="fas fa-heading"></i>
                </button>
                <button onclick="showHeadingMenu()" title="Êõ¥Â§öÊ†áÈ¢ò" class="heading-menu-btn">
                    <i class="fas fa-chevron-down"></i>
                </button>
                <button onclick="insertMarkdown('> ', '')" title="ÂºïÁî®">
                    <i class="fas fa-quote-left"></i>
                </button>
                <button onclick="insertMarkdown('`', '`')" title="Ë°åÂÜÖ‰ª£Á†Å">
                    <i class="fas fa-code"></i>
                </button>
                <button onclick="insertCodeBlock()" title="‰ª£Á†ÅÂùó">
                    <i class="fas fa-file-code"></i>
                </button>
                <button onclick="insertMarkdown('- ', '')" title="Êó†Â∫èÂàóË°®">
                    <i class="fas fa-list"></i>
                </button>
                <button onclick="insertMarkdown('1. ', '')" title="ÊúâÂ∫èÂàóË°®">
                    <i class="fas fa-list-ol"></i>
                </button>
                <button onclick="insertHighlight()" title="È´ò‰∫Æ">
                    <i class="fas fa-highlighter"></i>
                </button>
                <button onclick="document.getElementById('image-upload').click()" title="‰∏ä‰º†ÂõæÁâá">
                    <i class="fas fa-image"></i>
                </button>
                <button onclick="showImageGallery()" title="ÂõæÁâáÂ∫ì">
                    <i class="fas fa-images"></i>
                </button>
                <button onclick="document.getElementById('video-upload').click()" title="‰∏ä‰º†ËßÜÈ¢ë">
                    <i class="fas fa-video"></i>
                </button>
                <input type="file" id="image-upload" accept="image/*" style="display: none;" onchange="handleImageUpload(event)">
                <input type="file" id="video-upload" accept="video/*" style="display: none;" onchange="handleVideoUpload(event)">
            </div>

            <div class="editor-container">
                <textarea id="markdown-editor" class="editor-textarea" placeholder="Âú®ËøôÈáåÂÜô‰∏ã‰Ω†ÁöÑÊÉ≥Ê≥ï..."></textarea>
                <div id="preview" class="preview-container article-content"></div>
            </div>

            <div class="mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg text-sm text-gray-600 dark:text-gray-400">
                <div class="mb-2"><strong>ÁºñËæëÊèêÁ§∫Ôºö</strong></div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                    <div>‚Ä¢ È´ò‰∫ÆÊñáÊú¨Ôºö==ÈáçË¶ÅÂÜÖÂÆπ==</div>
                    <div>‚Ä¢ ÂõæÁâáÂºïÁî®Ôºö![ÊèèËø∞](ÂõæÁâáÂêçÁß∞)</div>
                    <div>‚Ä¢ Á≤ó‰ΩìÔºö**ÊñáÊú¨** Êàñ Ctrl+B</div>
                    <div>‚Ä¢ Êñú‰ΩìÔºö*ÊñáÊú¨* Êàñ Ctrl+I</div>
                    <div>‚Ä¢ Êó†Â∫èÂàóË°®Ôºö- ÂàóË°®È°π</div>
                    <div>‚Ä¢ ÊúâÂ∫èÂàóË°®Ôºö1. ÂàóË°®È°π</div>
                    <div>‚Ä¢ Ê†áÈ¢òÔºö# ## ### #### ######</div>
                    <div>‚Ä¢ ÂºïÁî®Ôºö> ÂºïÁî®ÂÜÖÂÆπ</div>
                    <div>‚Ä¢ Áº©ËøõÔºöTabÈîÆÂ¢ûÂä†ÔºåShift+TabÂáèÂ∞ë</div>
                    <div>‚Ä¢ ‰ª£Á†ÅÂùóÔºö```ËØ≠Ë®ÄÂêçÁß∞</div>
                </div>
                <div class="mt-2 text-xs">
                    ÊîØÊåÅTabÈîÆÁº©Ëøõ„ÄÅËá™Âä®ÂàóË°®Áª≠Ë°å„ÄÅÁ©∫Ë°å‰øùÁïô„ÄÇ‰∏ä‰º†ÁöÑÂõæÁâáÂíåËßÜÈ¢ë‰ºöËá™Âä®ÁîüÊàêÁÆÄÊ¥ÅÁöÑÂºïÁî®Ê†ºÂºè„ÄÇ
                </div>
            </div>

            <div class="mt-6 flex gap-4">
                <button onclick="saveArticle()" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                    <i class="fas fa-save mr-2"></i>‰øùÂ≠òÊñáÁ´†
                </button>
                <button onclick="showBlogList()" class="px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors">
                    <i class="fas fa-times mr-2"></i>ÂèñÊ∂à
                </button>
            </div>
        </div>
    </div>

    <!-- Ê∑ªÂä†ÊñáÁ´†ÊåâÈíÆ -->
    <button class="add-button" onclick="showEditor()" title="ÂÜôÊñ∞ÊñáÁ´†">
        <i class="fas fa-plus"></i>
    </button>

    <script>
        // ÂÖ®Â±ÄÂèòÈáè
        let articles = JSON.parse(localStorage.getItem('blog_articles') || '[]');
        let currentEditingId = null;

        // Â¶ÇÊûúÊ≤°ÊúâÊñáÁ´†ÔºåÊ∑ªÂä†‰∏Ä‰∫õÁ§∫‰æãÊñáÁ´†
        if (articles.length === 0) {
            articles = [
                {
                    id: 'sample1',
                title: 'AI‰∫ßÂìÅÁöÑ"‰∫∫Êú∫ÂçèÂêå"ËÆæËÆ°ÊñπÊ≥ïËÆ∫',
                content: `# AI‰∫ßÂìÅÁöÑ"‰∫∫Êú∫ÂçèÂêå"ËÆæËÆ°ÊñπÊ≥ïËÆ∫

Âú®AI‰∫ßÂìÅËÆæËÆ°‰∏≠Ôºå"‰∫∫Êú∫ÂçèÂêå"ÊòØÊ†∏ÂøÉÁêÜÂøµ„ÄÇÊú¨ÊñáÊé¢ËÆ®Â¶Ç‰ΩïÂú®‰∫ßÂìÅ‰∏≠Âπ≥Ë°°AIËÉΩÂäõ‰∏é‰∫∫Á±ªÂπ≤È¢ÑÔºåÈÄöËøáÂêàÁêÜÁöÑ‰∫§‰∫íËÆæËÆ°ÂíåÂèçÈ¶àÊú∫Âà∂ÔºåÊâìÈÄ†Êó¢Êô∫ËÉΩÂèàÂèØÊéßÁöÑ‰∫ßÂìÅ‰ΩìÈ™å„ÄÇ

## ‰ªÄ‰πàÊòØ‰∫∫Êú∫ÂçèÂêåÔºü

==‰∫∫Êú∫ÂçèÂêå‰∏çÊòØÁÆÄÂçïÁöÑAIËá™Âä®ÂåñÔºåËÄåÊòØËÆ©AIÂíå‰∫∫Á±ªÂêÑËá™ÂèëÊå•‰ºòÂäøÔºåÂΩ¢Êàê‰∫íË°•ÁöÑÂ∑•‰ΩúÊ®°Âºè„ÄÇ==

Âú®ËøôÁßçÊ®°Âºè‰∏ãÔºö
- **AIË¥üË¥£**ÔºöÊï∞ÊçÆÂ§ÑÁêÜ„ÄÅÊ®°ÂºèËØÜÂà´„ÄÅÈáçÂ§çÊÄß‰ªªÂä°
- **‰∫∫Á±ªË¥üË¥£**ÔºöÂàõÊÑèÂÜ≥Á≠ñ„ÄÅÂºÇÂ∏∏Â§ÑÁêÜ„ÄÅ‰ª∑ÂÄºÂà§Êñ≠

## ËÆæËÆ°ÂéüÂàô

### 1. ÈÄèÊòéÂ∫¶ÂéüÂàô

Áî®Êà∑ÈúÄË¶Å‰∫ÜËß£AIÂú®ÂÅö‰ªÄ‰πàÔºå‰∏∫‰ªÄ‰πàËøôÊ†∑ÂÅö„ÄÇ

### 2. ÂèØÊéßÊÄßÂéüÂàô

==Áî®Êà∑Â∫îËØ•ËÉΩÂ§üÈöèÊó∂‰ªãÂÖ•Âíå‰øÆÊ≠£AIÁöÑË°å‰∏∫„ÄÇ==

### 3. Ê∏êËøõÂºè‰ø°‰ªª

‰ªéÁÆÄÂçï‰ªªÂä°ÂºÄÂßãÔºåÈÄêÊ≠•Âª∫Á´ãÁî®Êà∑ÂØπAIÁöÑ‰ø°‰ªª„ÄÇ

## ÊÄªÁªì

==ËÆ∞‰ΩèÔºöÊúÄÂ•ΩÁöÑAI‰∫ßÂìÅÊòØËÆ©Áî®Êà∑ÊÑüËßâÊõ¥ËÅ™ÊòéÔºåËÄå‰∏çÊòØË¢´Êõø‰ª£„ÄÇ==`,
                tags: 'AI‰∫ßÂìÅ,ËÆæËÆ°ÊñπÊ≥ïËÆ∫,‰∫∫Êú∫ÂçèÂêå',
                coverImage: 'https://images.unsplash.com/photo-1591696331111-ef9586a5b17a?w=800&h=400&fit=crop',
                date: '2024-05-20T10:00:00.000Z',
                lastModified: '2024-05-20T10:00:00.000Z'
            },
            {
                id: 'sample2',
                title: '2024Âπ¥AI AgentÂèëÂ±ïË∂ãÂäøÔºö‰ªéÁêÜÂøµÂà∞ËêΩÂú∞',
                content: `# 2024Âπ¥AI AgentÂèëÂ±ïË∂ãÂäøÔºö‰ªéÁêÜÂøµÂà∞ËêΩÂú∞

AI AgentÊòØÁªßÂØπËØùÂºèAI‰πãÂêéÁöÑ‰∏ã‰∏Ä‰∏™ÈáçË¶ÅËµõÈÅì„ÄÇÊú¨ÊñáÂàÜÊûê‰∫ÜÂΩìÂâçAI AgentÁöÑÂèëÂ±ïÁé∞Áä∂„ÄÅÊ†∏ÂøÉÊäÄÊúØÊåëÊàòÂíåÂïÜ‰∏öÂåñË∑ØÂæÑ„ÄÇ

## ‰ªÄ‰πàÊòØAI AgentÔºü

==AI AgentÊòØËÉΩÂ§üËá™‰∏ªÊÑüÁü•ÁéØÂ¢É„ÄÅÂà∂ÂÆöËÆ°ÂàíÂπ∂ÊâßË°åË°åÂä®ÁöÑÊô∫ËÉΩÁ≥ªÁªü„ÄÇ==

‰∏é‰º†ÁªüÁöÑÂØπËØùÂºèAI‰∏çÂêåÔºåAgentÂÖ∑Â§áÔºö
- **Ëá™‰∏ªÊÄß**ÔºöËÉΩÂ§üÁã¨Á´ãÂÆåÊàêÂ§çÊùÇ‰ªªÂä°
- **ËßÑÂàíËÉΩÂäõ**ÔºöÂèØ‰ª•ÂàÜËß£ÁõÆÊ†áÔºåÂà∂ÂÆöÊâßË°åÊ≠•È™§
- **Â∑•ÂÖ∑‰ΩøÁî®**ÔºöËÉΩÂ§üË∞ÉÁî®Â§ñÈÉ®APIÂíåÊúçÂä°
- **ËÆ∞ÂøÜÊú∫Âà∂**ÔºöÂÖ∑Â§á‰∏ä‰∏ãÊñáÁêÜËß£ÂíåÂéÜÂè≤ËÆ∞ÂøÜ

## ÊäÄÊúØÊåëÊàò

### 1. ÂèØÈù†ÊÄßÈóÆÈ¢ò

==ÂΩìÂâçAI AgentÂú®Â§çÊùÇ‰ªªÂä°‰∏≠ÁöÑÊàêÂäüÁéá‰ªçÁÑ∂‰∏çÂ§üÁ®≥ÂÆö„ÄÇ==

### 2. ÊàêÊú¨ÊéßÂà∂

Â§öËΩÆÂØπËØùÂíåÂ∑•ÂÖ∑Ë∞ÉÁî®Â∏¶Êù•ÁöÑÊàêÊú¨ÂéãÂäõ„ÄÇ

## Êú™Êù•Â±ïÊúõ

==AI AgentÂ∞ÜÊàê‰∏∫‰∏ã‰∏Ä‰ª£‰∫∫Êú∫‰∫§‰∫íÁöÑ‰∏ªË¶ÅÂΩ¢ÂºèÔºå‰ΩÜÈúÄË¶ÅÂú®ËÉΩÂäõÂíåÂÆâÂÖ®ÊÄß‰πãÈó¥ÊâæÂà∞Âπ≥Ë°°„ÄÇ==`,
                tags: 'AI Agent,Ë°å‰∏öË∂ãÂäø,ÊäÄÊúØÂàÜÊûê',
                coverImage: 'https://images.unsplash.com/photo-1620712943543-bcc4688e7485?w=800&h=400&fit=crop',
                date: '2024-04-15T14:30:00.000Z',
                lastModified: '2024-04-15T14:30:00.000Z'
            },
            {
                id: 'sample3',
                title: 'ÊñáÁßëËÉåÊôØÁöÑAI‰∫ßÂìÅÁªèÁêÜÂ¶Ç‰ΩïÈ´òÊïàÂçè‰ΩúÊäÄÊúØÂõ¢Èòü',
                content: `# ÊñáÁßëËÉåÊôØÁöÑAI‰∫ßÂìÅÁªèÁêÜÂ¶Ç‰ΩïÈ´òÊïàÂçè‰ΩúÊäÄÊúØÂõ¢Èòü

‰Ωú‰∏∫ÈùûÊäÄÊúØËÉåÊôØÁöÑAI‰∫ßÂìÅÁªèÁêÜÔºåÂ¶Ç‰ΩïÊúâÊïàÊ≤üÈÄöÈúÄÊ±ÇÂπ∂‰∏éÁÆóÊ≥ïÂ∑•Á®ãÂ∏àÊ∑±Â∫¶Âçè‰ΩúÔºüÊú¨ÊñáÂàÜ‰∫´‰∫ÜÊàë‰ªéÊñáÁßëÁîüËΩ¨ÂûãAI‰∫ßÂìÅÁªèÁêÜÁöÑÁªèÈ™åÂíåÊñπÊ≥ï„ÄÇ

## ÊàëÁöÑËΩ¨Âûã‰πãË∑Ø

‰ªéÂçé‰∏úÂ∏àËåÉÂ§ßÂ≠¶Êñ∞ÈóªÂ≠¶‰∏ì‰∏öÊØï‰∏öÔºåÂà∞Êàê‰∏∫AI‰∫ßÂìÅÁªèÁêÜÔºåËøô‰∏™ËΩ¨ÂèòÂπ∂‰∏çÂÆπÊòì„ÄÇ‰ΩÜÊàëÂèëÁé∞Ôºå**ÊñáÁßëËÉåÊôØÂèçËÄåÊòØ‰∏ÄÁßç‰ºòÂäø**„ÄÇ

==ÊñáÁßëËÆ≠ÁªÉËÆ©ÊàëÊõ¥ÂÖ≥Ê≥®Áî®Êà∑ÈúÄÊ±ÇÂíå‰∫ßÂìÅ‰ΩìÈ™åÔºåËÄå‰∏çÊòØË¢´ÊäÄÊúØÁªÜËäÇÊùüÁºö„ÄÇ==

## Ê†∏ÂøÉËÉΩÂäõÂª∫ËÆæ

### 1. ÊûÑÂª∫‰∫ßÂìÅÁü•ËØÜ‰ΩìÁ≥ª

**ÊäÄÊúØÁêÜËß£**Ôºö
- Â≠¶‰π†AIÂü∫Á°ÄÊ¶ÇÂøµÔºà‰∏çÈúÄË¶ÅÊ∑±ÂÖ•ÁÆóÊ≥ïÔºâ
- ‰∫ÜËß£Ê®°ÂûãËÉΩÂäõËæπÁïå
- ÊéåÊè°Â∏∏Áî®ÊäÄÊúØÊúØËØ≠

**‰∫ßÂìÅÊÄùÁª¥**Ôºö
- Áî®Êà∑Âú∫ÊôØÂàÜÊûê
- ÈúÄÊ±Ç‰ºòÂÖàÁ∫ßÂà§Êñ≠
- ÂïÜ‰∏ö‰ª∑ÂÄºËØÑ‰º∞

## ÊÄªÁªì

==ËÆ∞‰ΩèÔºöÊúÄÂ•ΩÁöÑAI‰∫ßÂìÅ‰∏çÊòØÊäÄÊúØÊúÄÂÖàËøõÁöÑÔºåËÄåÊòØÊúÄËÉΩËß£ÂÜ≥Áî®Êà∑ÈóÆÈ¢òÁöÑ„ÄÇ==`,
                tags: '‰∫ßÂìÅÁªèÁêÜ,Âõ¢ÈòüÂçè‰Ωú,ËÅå‰∏öÂèëÂ±ï',
                coverImage: 'https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=800&h=400&fit=crop',
                date: '2024-03-10T09:15:00.000Z',
                lastModified: '2024-03-10T09:15:00.000Z'
            }
        ];
        localStorage.setItem('blog_articles', JSON.stringify(articles));
    }

    // ÂàùÂßãÂåñ
    document.addEventListener('DOMContentLoaded', function() {
        loadArticles();
        setupMarkdownPreview();
        updateBackButton('list'); // ÂàùÂßãÁä∂ÊÄÅ‰∏∫ÂçöÂÆ¢ÂàóË°®È°µ
    });

    // È°µÈù¢ÂàáÊç¢ÂáΩÊï∞
    function showBlogList() {
        document.getElementById('blog-list').style.display = 'block';
        document.getElementById('article-view').style.display = 'none';
        document.getElementById('article-editor').style.display = 'none';
        currentEditingId = null;
        clearEditor();
        updateBackButton('list');
    }

    function showEditor(articleId = null) {
        document.getElementById('blog-list').style.display = 'none';
        document.getElementById('article-view').style.display = 'none';
        document.getElementById('article-editor').style.display = 'block';
        
        if (articleId) {
            currentEditingId = articleId;
            loadArticleForEdit(articleId);
        } else {
            currentEditingId = null;
            clearEditor();
        }
        updateBackButton('editor');
    }

    function showArticle(articleId) {
        const article = articles.find(a => a.id === articleId);
        if (!article) return;

        // ËÆæÁΩÆÂΩìÂâçÊñáÁ´†IDÁî®‰∫éÂØºËà™
        window.currentArticleId = articleId;

        document.getElementById('blog-list').style.display = 'none';
        document.getElementById('article-view').style.display = 'block';
        document.getElementById('article-editor').style.display = 'none';

        const contentDisplay = document.getElementById('article-content-display');
        contentDisplay.innerHTML = `
            <header class="mb-8 text-center">
                <h1 class="text-4xl md:text-5xl font-bold mb-4">${article.title}</h1>
                <div class="flex justify-center items-center gap-4 text-gray-600 dark:text-gray-400 mb-4">
                    <span><i class="far fa-calendar mr-2"></i>${new Date(article.date).toLocaleDateString('zh-CN')}</span>
                    <span><i class="fas fa-user mr-2"></i>ÊùøÁ†ñ</span>
                </div>
                ${article.tags ? `<div class="mb-6">${article.tags.split(',').map(tag => `<span class="tag">${tag.trim()}</span>`).join('')}</div>` : ''}
                ${article.coverImage ? `<img src="${article.coverImage}" alt="Â∞ÅÈù¢ÂõæÁâá" class="w-full max-w-2xl mx-auto rounded-lg shadow-lg mb-8">` : ''}
            </header>
            <div class="prose">${parseMarkdownWithHighlights(article.content)}</div>
        `;

        // Êõ¥Êñ∞ÂØºËà™ÊåâÈíÆ
        updateNavigationButtons(articleId);
        updateBackButton('article');
    }

    // Êõ¥Êñ∞ÂØºËà™ÊåâÈíÆ
    function updateNavigationButtons(currentArticleId) {
        const sortedArticles = [...articles].sort((a, b) => new Date(b.date) - new Date(a.date));
        const currentIndex = sortedArticles.findIndex(a => a.id === currentArticleId);
        
        const prevButton = document.getElementById('prev-article');
        const nextButton = document.getElementById('next-article');
        
        // Êõ¥Êñ∞PreviousÊåâÈíÆ
        if (currentIndex > 0) {
            const prevArticle = sortedArticles[currentIndex - 1];
            prevButton.style.display = 'flex';
            prevButton.querySelector('.nav-title').textContent = prevArticle.title;
            prevButton.onclick = () => showArticle(prevArticle.id);
        } else {
            prevButton.style.display = 'none';
        }
        
        // Êõ¥Êñ∞NextÊåâÈíÆ
        if (currentIndex < sortedArticles.length - 1) {
            const nextArticle = sortedArticles[currentIndex + 1];
            nextButton.style.display = 'flex';
            nextButton.querySelector('.nav-title').textContent = nextArticle.title;
            nextButton.onclick = () => showArticle(nextArticle.id);
        } else {
            nextButton.style.display = 'none';
        }
    }

    // Âä†ËΩΩÊñáÁ´†ÂàóË°®
    function loadArticles() {
        const grid = document.getElementById('articles-grid');
        grid.innerHTML = '';

        if (articles.length === 0) {
            grid.innerHTML = `
                <div class="col-span-full text-center py-12">
                    <i class="fas fa-pen-fancy text-6xl text-gray-300 mb-4"></i>
                    <h3 class="text-xl font-semibold text-gray-600 mb-2">ËøòÊ≤°ÊúâÊñáÁ´†</h3>
                    <p class="text-gray-500">ÁÇπÂáªÂè≥‰∏ãËßíÁöÑ + ÊåâÈíÆÂºÄÂßãÂÜô‰ΩúÂêßÔºÅ</p>
                </div>
            `;
            return;
        }

        articles.sort((a, b) => new Date(b.date) - new Date(a.date));

        articles.forEach(article => {
            const articleCard = document.createElement('div');
            articleCard.className = 'article-card cursor-pointer';
            
            const coverImage = article.coverImage || getDefaultCoverImage();
            const excerpt = getExcerpt(article.content);

            articleCard.innerHTML = `
                <div class="card-actions">
                    <button class="card-action-btn edit-btn" onclick="event.stopPropagation(); showEditor('${article.id}')" title="ÁºñËæëÊñáÁ´†">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="card-action-btn delete-btn" onclick="event.stopPropagation(); deleteArticle('${article.id}')" title="Âà†Èô§ÊñáÁ´†">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                <div class="aspect-w-16 aspect-h-9 mb-4" onclick="showArticle('${article.id}')">
                    <img src="${coverImage}" alt="${article.title}" class="w-full h-48 object-cover">
                </div>
                <div class="p-6" onclick="showArticle('${article.id}')">
                    <h3 class="text-xl font-bold mb-2 line-clamp-2">${article.title}</h3>
                    <p class="text-gray-600 dark:text-gray-400 mb-4 line-clamp-3">${excerpt}</p>
                    <div class="flex justify-between items-center text-sm text-gray-500">
                        <span>${new Date(article.date).toLocaleDateString('zh-CN')}</span>
                        ${article.tags ? `<div>${article.tags.split(',').slice(0, 2).map(tag => `<span class="tag">${tag.trim()}</span>`).join('')}</div>` : ''}
                    </div>
                </div>
            `;

            grid.appendChild(articleCard);
        });
    }

    // Ëé∑ÂèñÈªòËÆ§Â∞ÅÈù¢ÂõæÁâá
    function getDefaultCoverImage() {
        const defaultImages = [
            'https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&h=400&fit=crop',
            'https://images.unsplash.com/photo-1620712943543-bcc4688e7485?w=800&h=400&fit=crop',
            'https://images.unsplash.com/photo-1591696331111-ef9586a5b17a?w=800&h=400&fit=crop'
        ];
        return defaultImages[Math.floor(Math.random() * defaultImages.length)];
    }

    // Ëé∑ÂèñÊñáÁ´†ÊëòË¶Å
    function getExcerpt(content) {
        const text = content.replace(/[#*`>\-\[\]]/g, '').trim();
        return text.length > 150 ? text.substring(0, 150) + '...' : text;
    }

    // MarkdownÁºñËæëÂô®ÂäüËÉΩ
    function setupMarkdownPreview() {
        const editor = document.getElementById('markdown-editor');
        const preview = document.getElementById('preview');

        if (editor && preview) {
            editor.addEventListener('input', function() {
                preview.innerHTML = parseMarkdownWithHighlights(this.value);
            });

            // Ê∑ªÂä†TabÈîÆÊîØÊåÅ
            editor.addEventListener('keydown', function(e) {
                if (e.key === 'Tab') {
                    e.preventDefault();
                    
                    const start = this.selectionStart;
                    const end = this.selectionEnd;
                    
                    if (e.shiftKey) {
                        // Shift+Tab: ÂáèÂ∞ëÁº©Ëøõ
                        const lines = this.value.split('\n');
                        const startLine = this.value.substring(0, start).split('\n').length - 1;
                        const endLine = this.value.substring(0, end).split('\n').length - 1;
                        
                        let newValue = '';
                        let offsetStart = 0;
                        let offsetEnd = 0;
                        
                        for (let i = 0; i < lines.length; i++) {
                            if (i >= startLine && i <= endLine) {
                                if (lines[i].startsWith('    ')) {
                                    lines[i] = lines[i].substring(4);
                                    if (i === startLine) offsetStart -= 4;
                                    if (i === endLine) offsetEnd -= 4;
                                } else if (lines[i].startsWith('\t')) {
                                    lines[i] = lines[i].substring(1);
                                    if (i === startLine) offsetStart -= 1;
                                    if (i === endLine) offsetEnd -= 1;
                                }
                            }
                        }
                        
                        this.value = lines.join('\n');
                        this.setSelectionRange(start + offsetStart, end + offsetEnd);
                    } else {
                        // Tab: Â¢ûÂä†Áº©Ëøõ
                        if (start === end) {
                            // Ê≤°ÊúâÈÄâ‰∏≠ÊñáÊú¨ÔºåÊèíÂÖ•Tab
                            this.value = this.value.substring(0, start) + '    ' + this.value.substring(end);
                            this.setSelectionRange(start + 4, start + 4);
                        } else {
                            // ÊúâÈÄâ‰∏≠ÊñáÊú¨ÔºåÂØπÊØèË°åÊ∑ªÂä†Áº©Ëøõ
                            const lines = this.value.split('\n');
                            const startLine = this.value.substring(0, start).split('\n').length - 1;
                            const endLine = this.value.substring(0, end).split('\n').length - 1;
                            
                            for (let i = startLine; i <= endLine; i++) {
                                lines[i] = '    ' + lines[i];
                            }
                            
                            this.value = lines.join('\n');
                            this.setSelectionRange(start + 4, end + 4 * (endLine - startLine + 1));
                        }
                    }
                    
                    // Êõ¥Êñ∞È¢ÑËßà
                    preview.innerHTML = parseMarkdownWithHighlights(this.value);
                }
                
                // EnterÈîÆËá™Âä®Áº©Ëøõ
                if (e.key === 'Enter') {
                    const start = this.selectionStart;
                    const currentLine = this.value.substring(0, start).split('\n').pop();
                    const indent = currentLine.match(/^(\s*)/)[1];
                    
                    // Â¶ÇÊûúÂΩìÂâçË°åÊòØÂàóË°®È°πÔºåËá™Âä®Ê∑ªÂä†ÂàóË°®Ê†áËÆ∞
                    const listMatch = currentLine.match(/^(\s*)([-*+]|\d+\.)\s/);
                    if (listMatch) {
                        e.preventDefault();
                        const listMarker = listMatch[2];
                        let newMarker = listMarker;
                        
                        // Â¶ÇÊûúÊòØÊï∞Â≠óÂàóË°®ÔºåÈÄíÂ¢ûÊï∞Â≠ó
                        if (/\d+\./.test(listMarker)) {
                            const num = parseInt(listMarker) + 1;
                            newMarker = num + '.';
                        }
                        
                        const insertion = '\n' + indent + newMarker + ' ';
                        this.value = this.value.substring(0, start) + insertion + this.value.substring(start);
                        this.setSelectionRange(start + insertion.length, start + insertion.length);
                        
                        // Êõ¥Êñ∞È¢ÑËßà
                        preview.innerHTML = parseMarkdownWithHighlights(this.value);
                    } else if (indent) {
                        // ‰øùÊåÅÂΩìÂâçÁº©Ëøõ
                        setTimeout(() => {
                            const newStart = this.selectionStart;
                            this.value = this.value.substring(0, newStart) + indent + this.value.substring(newStart);
                            this.setSelectionRange(newStart + indent.length, newStart + indent.length);
                            
                            // Êõ¥Êñ∞È¢ÑËßà
                            preview.innerHTML = parseMarkdownWithHighlights(this.value);
                        }, 0);
                    }
                }
            });
        }
    }

    // Ëß£ÊûêMarkdownÂπ∂Â§ÑÁêÜÈ´ò‰∫Æ
    function parseMarkdownWithHighlights(content) {
        // ÂÖàÂ§ÑÁêÜÈ´ò‰∫ÆËØ≠Ê≥ï ==text==ÔºåÂú®MarkdownËß£Êûê‰πãÂâç
        content = content.replace(/==(.*?)==/g, '{{HIGHLIGHT_START}}$1{{HIGHLIGHT_END}}');
        
        // Â§ÑÁêÜÂõæÁâáÂºïÁî®ÔºåÂ∞ÜÁÆÄÊ¥ÅÂºïÁî®ËΩ¨Êç¢‰∏∫ÂÆûÈôÖURL
        content = content.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, alt, src) {
            // Â¶ÇÊûúÊòØÁÆÄÊ¥ÅÁöÑÂõæÁâáÂºïÁî®Ôºà‰∏çÊòØÂÆåÊï¥URLÔºâÔºå‰ªélocalStorageËé∑ÂèñÂÆûÈôÖÊï∞ÊçÆ
            if (!src.startsWith('http') && !src.startsWith('data:')) {
                const images = JSON.parse(localStorage.getItem('blog_images') || '{}');
                if (images[src]) {
                    return `![${alt}](${images[src]})`;
                }
            }
            return match;
        });
        
        // Â§ÑÁêÜËßÜÈ¢ëÂºïÁî®ÔºåÂ∞ÜÁÆÄÊ¥ÅÂºïÁî®ËΩ¨Êç¢‰∏∫ÂÆûÈôÖURL
        content = content.replace(/<video([^>]*)>\s*<source\s+src="([^"]+)"([^>]*)>\s*([^<]*)\s*<\/video>/g, function(match, videoAttrs, src, sourceAttrs, fallbackText) {
            // Â¶ÇÊûúÊòØÁÆÄÊ¥ÅÁöÑËßÜÈ¢ëÂºïÁî®Ôºå‰ªélocalStorageËé∑ÂèñÂÆûÈôÖÊï∞ÊçÆ
            if (!src.startsWith('http') && !src.startsWith('data:')) {
                const videos = JSON.parse(localStorage.getItem('blog_videos') || '{}');
                if (videos[src]) {
                    return `<video${videoAttrs} style="max-width: 100%; height: auto;"><source src="${videos[src]}"${sourceAttrs}>${fallbackText}</video>`;
                }
            }
            return `<video${videoAttrs} style="max-width: 100%; height: auto;"><source src="${src}"${sourceAttrs}>${fallbackText}</video>`;
        });
        
        // ‰ΩøÁî®marked.jsËß£ÊûêMarkdown
        let html = marked.parse(content);
        
        // ÊúÄÂêéÂ∞ÜÂç†‰ΩçÁ¨¶ÊõøÊç¢‰∏∫È´ò‰∫ÆHTML
        html = html.replace(/\{\{HIGHLIGHT_START\}\}(.*?)\{\{HIGHLIGHT_END\}\}/g, '<div class="highlight">$1</div>');
        
        return html;
    }

    // ÊèíÂÖ•MarkdownËØ≠Ê≥ï
    function insertMarkdown(before, after) {
        const editor = document.getElementById('markdown-editor');
        const start = editor.selectionStart;
        const end = editor.selectionEnd;
        const selectedText = editor.value.substring(start, end);
        const replacement = before + selectedText + after;
        
        editor.value = editor.value.substring(0, start) + replacement + editor.value.substring(end);
        editor.focus();
        editor.setSelectionRange(start + before.length, start + before.length + selectedText.length);
        
        // Êõ¥Êñ∞È¢ÑËßà
        document.getElementById('preview').innerHTML = parseMarkdownWithHighlights(editor.value);
    }

    // ÊèíÂÖ•È´ò‰∫Æ
    function insertHighlight() {
        insertMarkdown('==', '==');
    }

    // ÊèíÂÖ•‰ª£Á†ÅÂùó
    function insertCodeBlock() {
        const editor = document.getElementById('markdown-editor');
        const selectedText = editor.value.substring(editor.selectionStart, editor.selectionEnd);
        const codeBlock = `\n\`\`\`\n${selectedText}\n\`\`\`\n`;
        insertAtCursor(editor, codeBlock);
        
        // Êõ¥Êñ∞È¢ÑËßà
        document.getElementById('preview').innerHTML = parseMarkdownWithHighlights(editor.value);
    }

    // Â§ÑÁêÜÂõæÁâá‰∏ä‰º†
    function handleImageUpload(event) {
        const file = event.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = function(e) {
            const imageData = e.target.result;
            const imageName = `img_${Date.now()}_${file.name.replace(/\s+/g, '_')}`;
            
            // ‰øùÂ≠òÂà∞Êú¨Âú∞Â≠òÂÇ®
            saveToLocalStorage('blog_images', imageName, imageData);
            
            // ÊèíÂÖ•ÁÆÄÊ¥ÅÁöÑMarkdownÂõæÁâáËØ≠Ê≥ï
            const editor = document.getElementById('markdown-editor');
            const imageMarkdown = `\n![${file.name}](${imageName})\n`;
            insertAtCursor(editor, imageMarkdown);
            
            // Êõ¥Êñ∞È¢ÑËßà
            document.getElementById('preview').innerHTML = parseMarkdownWithHighlights(editor.value);
        };
        reader.readAsDataURL(file);
    }

    // Â§ÑÁêÜËßÜÈ¢ë‰∏ä‰º†
    function handleVideoUpload(event) {
        const file = event.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = function(e) {
            const videoData = e.target.result;
            const videoName = `video_${Date.now()}_${file.name.replace(/\s+/g, '_')}`;
            
            // ‰øùÂ≠òÂà∞Êú¨Âú∞Â≠òÂÇ®
            saveToLocalStorage('blog_videos', videoName, videoData);
            
            // ÊèíÂÖ•ÁÆÄÊ¥ÅÁöÑHTMLËßÜÈ¢ëÊ†áÁ≠æ
            const editor = document.getElementById('markdown-editor');
            const videoHtml = `\n<video controls>\n  <source src="${videoName}" type="${file.type}">\n  ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅËßÜÈ¢ëÊí≠Êîæ„ÄÇ\n</video>\n`;
            insertAtCursor(editor, videoHtml);
            
            // Êõ¥Êñ∞È¢ÑËßà
            document.getElementById('preview').innerHTML = parseMarkdownWithHighlights(editor.value);
        };
        reader.readAsDataURL(file);
    }

    // Âú®ÂÖâÊ†á‰ΩçÁΩÆÊèíÂÖ•ÊñáÊú¨
    function insertAtCursor(textarea, text) {
        const start = textarea.selectionStart;
        const end = textarea.selectionEnd;
        textarea.value = textarea.value.substring(0, start) + text + textarea.value.substring(end);
        textarea.focus();
        textarea.setSelectionRange(start + text.length, start + text.length);
    }

    // ‰øùÂ≠òÂà∞localStorageÔºàÊ®°ÊãüÊú¨Âú∞Êñá‰ª∂Á≥ªÁªüÔºâ
    function saveToLocalStorage(key, filename, data) {
        const storage = JSON.parse(localStorage.getItem(key) || '{}');
        storage[filename] = data;
        localStorage.setItem(key, JSON.stringify(storage));
    }

    // ‰øùÂ≠òÊñáÁ´†
    function saveArticle() {
        const title = document.getElementById('article-title').value.trim();
        const content = document.getElementById('markdown-editor').value.trim();
        const tags = document.getElementById('article-tags').value.trim();
        const coverImageFile = document.getElementById('cover-image').files[0];

        if (!title || !content) {
            alert('ËØ∑Â°´ÂÜôÊ†áÈ¢òÂíåÂÜÖÂÆπ');
            return;
        }

        let coverImage = '';
        if (coverImageFile) {
            const reader = new FileReader();
            reader.onload = function(e) {
                coverImage = e.target.result;
                saveArticleData(title, content, tags, coverImage);
            };
            reader.readAsDataURL(coverImageFile);
        } else {
            saveArticleData(title, content, tags, coverImage);
        }
    }

    function saveArticleData(title, content, tags, coverImage) {
        const article = {
            id: currentEditingId || generateId(),
            title,
            content,
            tags,
            coverImage: coverImage || getDefaultCoverImage(),
            date: currentEditingId ? articles.find(a => a.id === currentEditingId).date : new Date().toISOString(),
            lastModified: new Date().toISOString()
        };

        if (currentEditingId) {
            const index = articles.findIndex(a => a.id === currentEditingId);
            articles[index] = article;
        } else {
            articles.push(article);
        }

        // ‰øùÂ≠òÂà∞localStorageÔºàÊ®°Êãü‰øùÂ≠òÂà∞blog_content/markdown/Ôºâ
        localStorage.setItem('blog_articles', JSON.stringify(articles));
        saveToLocalStorage('blog_markdown', `${article.id}.md`, content);

        // ÂÆûÈôÖ‰øùÂ≠òÊñá‰ª∂Âà∞Êú¨Âú∞Êñá‰ª∂Â§π
        saveToActualFile(article);

        alert('ÊñáÁ´†‰øùÂ≠òÊàêÂäüÔºÅ');
        showBlogList();
        loadArticles();
    }

    // ‰øùÂ≠òÊñá‰ª∂Âà∞ÂÆûÈôÖÊñá‰ª∂Â§π
    async function saveToActualFile(article) {
        try {
            // ÂàõÂª∫MarkdownÊñá‰ª∂ÂÜÖÂÆπ
            const markdownContent = `---
title: ${article.title}
date: ${article.date}
lastModified: ${article.lastModified}
tags: ${article.tags}
coverImage: ${article.coverImage}
---

${article.content}`;

            // ÂàõÂª∫Êñá‰ª∂‰∏ãËΩΩ
            const blob = new Blob([markdownContent], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${article.id}.md`;
            
            // ÊèêÁ§∫Áî®Êà∑‰øùÂ≠òÂà∞blog_content/markdown/Êñá‰ª∂Â§π
            const message = `üìù ÊñáÁ´†Â∑≤ÂáÜÂ§áÂ•Ω‰øùÂ≠òÔºÅ

üìÅ ËØ∑Â∞Ü‰∏ãËΩΩÁöÑÊñá‰ª∂‰øùÂ≠òÂà∞Ôºö
   blog_content/markdown/${article.id}.md

üí° ÊèêÁ§∫Ôºö
   ‚Ä¢ Êñá‰ª∂ÂåÖÂê´ÂÆåÊï¥ÁöÑÊñáÁ´†ÂÜÖÂÆπÂíåÂÖÉÊï∞ÊçÆ
   ‚Ä¢ ‰øùÂ≠òÂêéÂèØ‰ª•Âú®ÂØπÂ∫îÊñá‰ª∂Â§π‰∏≠ÊâæÂà∞
   ‚Ä¢ ÊîØÊåÅÈáçÊñ∞ÁºñËæëÂíåÂèëÂ∏É

ÁÇπÂáªÁ°ÆÂÆöÂºÄÂßã‰∏ãËΩΩÊñá‰ª∂„ÄÇ`;

            if (confirm(message)) {
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                // ÊòæÁ§∫ÊàêÂäüÊèêÁ§∫
                setTimeout(() => {
                    alert('‚úÖ Êñá‰ª∂‰∏ãËΩΩÊàêÂäüÔºÅËØ∑Â∞ÜÊñá‰ª∂‰øùÂ≠òÂà∞ blog_content/markdown/ Êñá‰ª∂Â§π‰∏≠„ÄÇ');
                }, 500);
            }
        } catch (error) {
            console.error('‰øùÂ≠òÊñá‰ª∂Êó∂Âá∫Èîô:', error);
            alert('‚ùå ‰øùÂ≠òÊñá‰ª∂Êó∂Âá∫ÈîôÔºåËØ∑ÈáçËØï„ÄÇ');
        }
    }

    // Âä†ËΩΩÊñáÁ´†ËøõË°åÁºñËæë
    function loadArticleForEdit(articleId) {
        const article = articles.find(a => a.id === articleId);
        if (!article) return;

        document.getElementById('article-title').value = article.title;
        document.getElementById('markdown-editor').value = article.content;
        document.getElementById('article-tags').value = article.tags || '';
        document.getElementById('preview').innerHTML = parseMarkdownWithHighlights(article.content);
    }

    // Ê∏ÖÁ©∫ÁºñËæëÂô®
    function clearEditor() {
        document.getElementById('article-title').value = '';
        document.getElementById('markdown-editor').value = '';
        document.getElementById('article-tags').value = '';
        document.getElementById('cover-image').value = '';
        document.getElementById('preview').innerHTML = '';
    }

    // Âà†Èô§ÊñáÁ´†
    function deleteArticle(articleId) {
        if (!confirm('Á°ÆÂÆöË¶ÅÂà†Èô§ËøôÁØáÊñáÁ´†ÂêóÔºü')) return;

        articles = articles.filter(a => a.id !== articleId);
        localStorage.setItem('blog_articles', JSON.stringify(articles));

        // Âà†Èô§ÂØπÂ∫îÁöÑmarkdownÊñá‰ª∂
        const markdownStorage = JSON.parse(localStorage.getItem('blog_markdown') || '{}');
        delete markdownStorage[`${articleId}.md`];
        localStorage.setItem('blog_markdown', JSON.stringify(markdownStorage));

        alert('ÊñáÁ´†Â∑≤Âà†Èô§');
        showBlogList();
        loadArticles();
    }

    // ÁîüÊàêÂîØ‰∏ÄID
    function generateId() {
        return Date.now().toString(36) + Math.random().toString(36).substr(2);
    }

    // ÈîÆÁõòÂø´Êç∑ÈîÆ
    document.addEventListener('keydown', function(e) {
        if (e.ctrlKey || e.metaKey) {
            switch(e.key) {
                case 's':
                    e.preventDefault();
                    if (document.getElementById('article-editor').style.display !== 'none') {
                        saveArticle();
                    }
                    break;
                case 'b':
                    e.preventDefault();
                    if (document.getElementById('article-editor').style.display !== 'none') {
                        insertMarkdown('**', '**');
                    }
                    break;
                case 'i':
                    e.preventDefault();
                    if (document.getElementById('article-editor').style.display !== 'none') {
                        insertMarkdown('*', '*');
                    }
                    break;
            }
        }
    });

    // ÊòæÁ§∫ÂõæÁâáÂ∫ì
    function showImageGallery() {
        const images = JSON.parse(localStorage.getItem('blog_images') || '{}');
        const imageKeys = Object.keys(images);
        
        if (imageKeys.length === 0) {
            alert('ËøòÊ≤°Êúâ‰∏ä‰º†‰ªª‰ΩïÂõæÁâá');
            return;
        }
        
        // ÂàõÂª∫ÂõæÁâáÂ∫ìÂºπÁ™ó
        const modal = document.createElement('div');
        modal.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
        `;
        
        const gallery = document.createElement('div');
        gallery.style.cssText = `
            background: white;
            border-radius: 12px;
            padding: 2rem;
            max-width: 80%;
            max-height: 80%;
            overflow-y: auto;
        `;
        
        gallery.innerHTML = `
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3 style="margin: 0; font-size: 1.5rem;">ÂõæÁâáÂ∫ì</h3>
                <button onclick="this.closest('.modal').remove()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer;">&times;</button>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 1rem;">
                ${imageKeys.map(key => `
                    <div style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; cursor: pointer;" onclick="insertImageFromGallery('${key}')">
                        <img src="${images[key]}" style="width: 100%; height: 120px; object-fit: cover;">
                        <div style="padding: 0.5rem; font-size: 0.8rem; text-align: center; background: #f5f5f5;">
                            ${key.replace(/^img_\d+_/, '')}
                        </div>
                    </div>
                `).join('')}
            </div>
            <div style="margin-top: 1rem; text-align: center; color: #666; font-size: 0.9rem;">
                ÁÇπÂáªÂõæÁâáÊèíÂÖ•Âà∞ÁºñËæëÂô®‰∏≠
            </div>
        `;
        
        modal.className = 'modal';
        modal.appendChild(gallery);
        document.body.appendChild(modal);
        
        // ÁÇπÂáªËÉåÊôØÂÖ≥Èó≠
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                modal.remove();
            }
        });
    }
    
    // ‰ªéÂõæÁâáÂ∫ìÊèíÂÖ•ÂõæÁâá
    function insertImageFromGallery(imageName) {
        const editor = document.getElementById('markdown-editor');
        const displayName = imageName.replace(/^img_\d+_/, '');
        const imageMarkdown = `\n![${displayName}](${imageName})\n`;
        insertAtCursor(editor, imageMarkdown);
        
        // Êõ¥Êñ∞È¢ÑËßà
        document.getElementById('preview').innerHTML = parseMarkdownWithHighlights(editor.value);
        
        // ÂÖ≥Èó≠ÂõæÁâáÂ∫ì
        document.querySelector('.modal').remove();
    }

    // Êõ¥Êñ∞ËøîÂõûÊåâÈíÆ
    function updateBackButton(currentPage) {
        const backButton = document.getElementById('back-button');
        const backText = document.getElementById('back-text');
        
        switch(currentPage) {
            case 'list':
                backButton.href = 'index.html';
                backText.textContent = 'ËøîÂõû‰∏ªÈ°µ';
                backButton.onclick = null;
                break;
            case 'article':
            case 'editor':
                backButton.href = '#';
                backText.textContent = 'ËøîÂõûÂçöÂÆ¢';
                backButton.onclick = function(e) {
                    e.preventDefault();
                    showBlogList();
                };
                break;
        }
    }

    // ÊòæÁ§∫Ê†áÈ¢òËèúÂçï
    function showHeadingMenu() {
        // ÁßªÈô§Â∑≤Â≠òÂú®ÁöÑËèúÂçï
        const existingMenu = document.querySelector('.heading-menu');
        if (existingMenu) {
            existingMenu.remove();
            return;
        }

        const menu = document.createElement('div');
        menu.className = 'heading-menu';
        menu.style.cssText = `
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            min-width: 150px;
        `;

        const headings = [
            { level: 1, text: '# Ê†áÈ¢ò 1', prefix: '# ' },
            { level: 2, text: '## Ê†áÈ¢ò 2', prefix: '## ' },
            { level: 3, text: '### Ê†áÈ¢ò 3', prefix: '### ' },
            { level: 4, text: '#### Ê†áÈ¢ò 4', prefix: '#### ' },
            { level: 5, text: '##### Ê†áÈ¢ò 5', prefix: '##### ' },
            { level: 6, text: '###### Ê†áÈ¢ò 6', prefix: '###### ' }
        ];

        headings.forEach(heading => {
            const item = document.createElement('div');
            item.style.cssText = `
                padding: 0.5rem 1rem;
                cursor: pointer;
                border-bottom: 1px solid #f3f4f6;
                font-size: ${2 - heading.level * 0.1}rem;
                font-weight: ${700 - heading.level * 50};
            `;
            item.textContent = heading.text;
            item.onclick = () => {
                insertMarkdown(heading.prefix, '');
                menu.remove();
            };
            item.onmouseover = () => {
                item.style.backgroundColor = '#f3f4f6';
            };
            item.onmouseout = () => {
                item.style.backgroundColor = 'white';
            };
            menu.appendChild(item);
        });

        // ÊâæÂà∞Ê†áÈ¢òÊåâÈíÆÂπ∂Ê∑ªÂä†ËèúÂçï
        const headingBtn = document.querySelector('.heading-menu-btn');
        headingBtn.style.position = 'relative';
        headingBtn.appendChild(menu);

        // ÁÇπÂáªÂÖ∂‰ªñÂú∞ÊñπÂÖ≥Èó≠ËèúÂçï
        setTimeout(() => {
            document.addEventListener('click', function closeMenu(e) {
                if (!headingBtn.contains(e.target)) {
                    menu.remove();
                    document.removeEventListener('click', closeMenu);
                }
            });
        }, 100);
    }
</script>
</body>
</html> 